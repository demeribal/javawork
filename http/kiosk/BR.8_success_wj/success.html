<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>베스킨라빈스 키오스크</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="success.css">
    <script src="/kiosk/all.js"></script>
</head>
<body>
    <div class="payment-container">
        <div class="header">
            <div class="completion-text">결제가 완료되었습니다.</div>
            <div class="receipt-text">영수증을 확인하세요</div>
        </div>

        <div class="waiting-number-section">
            <div class="waiting-label">대기번호</div>
            <div class="number">154</div>
        </div>

        <div class="notice-box">
            <div class="logo-header">
                <div class="logo"></div>
                <div class="notice-title">잠깐.</div>
            </div>
            <div class="point-reminder">해피포인트 적립 잊지말고 챙기세요!</div>
            <div class="notice-text">
                동의 후 휴대폰 번호를 입력하시면<br>
                문자로 직접 안내메세지를 보내드립니다.
            </div>
            <div class="notice-details">
                <div>수집항목</div>
                <div>휴대폰번호</div>
                <div>수집목적</div>
                <div>해피포인트 적립 안내문자 전송</div>
                <div>보유기간</div>
                <div>30일 이내</div>
            </div>
        </div>

        <div class="button-section">
            <div class="btn btn-agree" id="agree-btn">
                <div class="btn-circle">
                    <div class="check-icon">✓</div>
                </div>
                <div class="btn-text">네, 동의하고 적립할래요!</div>
            </div>
            <div class="btn btn-disagree" id="disagree-btn">
                <div class="btn-circle">
                    <div class="check-icon">✓</div>
                </div>
                <div class="btn-text">아니요,<br/>적립 안할래요</div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const agreeBtn = document.getElementById('agree-btn');
            const disagreeBtn = document.getElementById('disagree-btn');
            let selectedBtn;

            function handleButtonClick(btn) {
                if (selectedBtn === btn) {
                    // 이미 선택된 버튼을 다시 클릭하면 선택 해제
                    btn.classList.remove('selected');
                    selectedBtn = null;
                } else {
                    // 다른 버튼 선택 시 이전 선택 해제하고 새로운 버튼 선택
                    if (selectedBtn) {
                        selectedBtn.classList.remove('selected');
                    }
                    btn.classList.add('selected');
                    selectedBtn = btn;
                }
            }

            agreeBtn.addEventListener('click', function() {
                handleButtonClick(agreeBtn);
                alert('포인트 적립이 완료되었습니다');
                sessionStorage.clear(); 
                window.location.href = '/index.html';
            });

            disagreeBtn.addEventListener('click', function() {
                handleButtonClick(disagreeBtn);
                sessionStorage.clear(); 
                window.location.href = '/index.html';
            });
        });
    </script>
</body>
</html>